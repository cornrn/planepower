#!/usr/bin/env deployer

# Import libraries
import("winchControl")

# Create components
loadComponent("winch", "WinchControl")

# Set activities
#setActivity("winch", 1.0 / 5.0, HighestPriority, ORO_SCHED_RT)
setActivity("winch", 0.0, HighestPriority, ORO_SCHED_RT)

winch.configure()
winch.start()

# Reporter
loadComponent("reporter","OCL::NetcdfReporting")
setActivity("reporter", 0.0, LowestPriority, ORO_SCHED_RT)

var ConnPolicy rp

connectPeers("reporter", "winch")
reporter.reportComponent("winch")
reporter.ReportPolicy = rp
 
# (optionally, overwrite the default report file name)
reporter.ReportFile = "winchTest.nc"
 
reporter.configure()
reporter.start()
