// Description: MHE based on dynamic (DAE) kite model
// Author:      Milan Vukov, milan.vukov@esat.kuleuven.be
// Date:        August 2013.

#ifndef DYNAMIC_MHE_HPP
#define DYNAMIC_MHE_HPP

#include <rtt/TaskContext.hpp>
#include <rtt/Port.hpp>

/// Common header for the autogenerated code
#include "autogenerated/acado_common.h"

//
// Define some common stuff
//
#define NX		ACADO_NX	// # differential states
#define NU		ACADO_NU	// # control inputs
#define NP		ACADO_NP	// # user parameters
#define NY		ACADO_NY	// # measurements, nodes 0.. N - 1
#define NYN		ACADO_NYN	// # measurements, last node
#define N 		ACADO_N		// # estimation intervals

#define DELAY_CAM		4   // samples

typedef uint64_t TIME_TYPE;

class DynamicMhe
	: public RTT::TaskContext
{
public:
	/// Ctor
	DynamicMhe(std::string name);
	/// Dtor
	virtual ~DynamicMhe()
	{}
	
	/// Configuration hook.
	virtual bool configureHook( );
	/// Start hook.
	virtual bool startHook( );
	/// Update hook.
	virtual void updateHook( );
	/// Stop hook.
	virtual void stopHook( );
	/// Cleanup hook.
	virtual void cleanupHook( );
	/// Error hook.
	virtual void errorHook( );

protected:
	
	
private:

	
};

#endif // DYNAMIC_MHE_HPP
